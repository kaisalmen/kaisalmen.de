<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>ZeroSouth PTV 1 Virtual Tour</title>

    <meta name="description" content="Virtual tour of ZeroSouth's PTV 1 using web worker based OBJ Loader">
    <meta name="keywords" content="WebGL, three.js, OBJ Loader, javascript, web worker, ZeroSouth">
    <meta name="author" content="Kai Salmen">

    <link href="../../resource/css/AppLifecyle.css" type="text/css" rel="stylesheet"/>
    <link href="../../resource/css/Navigation.css" type="text/css" rel="stylesheet"/>
    <link href="../../resource/css/PTV1.css" type="text/css" rel="stylesheet"/>
</head>
<body>
    <div id="DivGLFull">
        <canvas id="DivGLFullCanvas"></canvas>
        <div class="navFrame">
            <div class="home">
                <h1>
                    <a href="../../index.html">Home</a>
                </h1>
            </div>
            <div class="home" onclick="enableHelpArea()">
                <span class="helpButton">?</span>
            </div>
        </div>
        <div class="helpArea" id="HelpArea">
            <h1>PTV 1 Loader</h1>
            The model of ZERO SOUTH's Polar Traverse Vehicle 1 (PTV 1) is loaded from a zip compressed OBJ file (uncompressed file size is 150 MB).<br>
            The decompression and the processing of the OBJ data is handled by web workers.
            The integration of new objects into the scene is done whenever a new object has been processed from the input file.
            It ensures interactivity is always given while new pieces of the overall vehicle appear.<br>
            The web worker code is currently based on a fork three.js's OBJLoader (Feb. 2016).
        </div>
        <div class="offsite">
            <a class="offsiteLink" href="http://www.zerosouth.com">
                <img alt="ZeroSouth.com" src="../../resource/textures/ZeroSouthLogo.png">
            </a>
        </div>
        <div class="feedback" id="FeedbackArea">
            <div class="copyrightArea" id="CopyrightArea">
                Cubemap by <a href="http://www.humus.name/index.php?page=Textures">Humus</a>
                <span class="tab"><span class="tab"></span>
                Thanks to <a href="http://threejs.org">three.js</a>, <a href="https://github.com/lo-th/uil">uil.js</a>, <a href="https://github.com/ded/bowser">bowser.js</a> and <a href="https://stuk.github.io/jszip/">jszip</a>!
            </div>
        </div>
    </div>
    <script src="../../node_modules/bowser/bowser.min.js"></script>
    <script>
        var browserVersions = {
            firefox : {
                mobileWarning: 'Mobile Firefox is considered unstable, but it may work!'
            },
            safari : {
                mobileWarning: 'Mobile Safari has memory issues and is considered unstable, but it may work!'
            }
        };
    </script>
    <script src="../../js/apps/core/Prerequisites.js"></script>

    <script src="../../node_modules/three/build/three.min.js"></script>
    <script src="../../node_modules/three/examples/js/libs/stats.min.js"></script>
    <script src="../../node_modules/three/examples/js/controls/TrackballControls.js"></script>
    <script src="../../node_modules/three/examples/js/loaders/MTLLoader.js"></script>
    <script src="../../node_modules/uil/build/uil.min.js"></script>
    <script src="../../node_modules/jszip/dist/jszip.min.js"></script>
    <script src="../../node_modules/wwobjloader/build/OBJLoader2.js"></script>
    <script src="../../node_modules/wwobjloader/build/WWOBJLoader2.js"></script>

    <script src="../../js/apps/core/ThreeJsApp.js"></script>
    <script src="../../js/apps/core/AppRunner.js"></script>
    <script src="../../js/apps/tools/TextureTools.js"></script>
    <script src="../../js/apps/tools/UiTools.js"></script>
    <script src="../../js/apps/tools/ZipTools.js"></script>
    <script src="../../js/apps/demos/zeroSouth/PTV1.js"></script>
    <script>
        if ( KSX.globals.preChecksOk ) {

            var app = new KSX.apps.zerosouth.PTV1Loader( document.getElementById( 'DivGLFullCanvas' ), bowser.mobile );
            var appRunner = new KSX.apps.core.AppRunner( app );
            appRunner.run( true );

            var clicksHelpArea = 0;
            var enableHelpArea = function () {
                var divHelpArea = document.getElementById( 'HelpArea' );
                divHelpArea.style.display = clicksHelpArea % 2 === 0 ? 'inline' : 'none';
                clicksHelpArea++;
            }
        }
    </script>
</body>
</html>