<!DOCTYPE html>
<html>
<head>
    <title>Zip.js Test</title>
    <script src="../libs/zip.js/zip.js"></script>
    <script src="../libs/zip.js/zip-ext.js"></script>
    <script src="../libs/zip.js/deflate.js"></script>
    <script src="../libs/zip.js/inflate.js"></script>
    <script src="../libs/zip.js/mime-types.js"></script>
</head>
<body>
          <script>

              var dataUrl = "../resource/models/Ambulance.zip";
              //var dataUrl = "../resource/models/tester.zip";

              function onerror(message) {
                  console.error(message);
              }

              function unzipUrl(url, callback) {
                  zip.createReader(new zip.HttpReader(url), function(zipReader) {
                      zipReader.getEntries(function(entries) {
                          entries[0].getData(new zip.Data64URIWriter("text/plain"), function(data) {
                              zipReader.close();
                              callback(data);
                          });
                      });
                  }, onerror);
              }

              function logDataUrl(dataUrl) {
                  console.log("Done");
              }

              zip.workerScriptsPath = "../libs/zip.js/";
              console.log(zip.getMimeType(dataUrl));

              unzipUrl(dataUrl, function(unzippedDataURI) {
                  logDataUrl(unzippedDataURI);
              });
          </script>
</body>
</html>